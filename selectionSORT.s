 AREA selectionSORT, CODE, READONLY
	
	CODE32
	PRESERVE8
	
	EXPORT __selectionSORT
	; r0 = &arr[0]
	; r1 = max 
	
__selectionSORT
	STMFD SP!, {R2-R9, LR}
	
	LDR R9, =0x0
	MOV R4, R0
	MOV R11, R1
FIRST_FOR_LOOP
	MOV R5, R4
	MOV R6, R5
	ADD R10, R9, #1

SECOND_FOR_LOOP
	ADD R6, R6, #4
	LDR R7, [R5]
	LDR R8, [R6]
	CMP R8, R7
	BHI DO_NOT_CHANGE
	MOV R5, R6
DO_NOT_CHANGE
	ADD R10, R10, #1
	CMP R10, R11
	BLT SECOND_FOR_LOOP
	
	LDR R7, [R5]
	LDR R8, [R4]
	STR R8, [R5]
	STR R7, [R4]
	ADD R4, R4, #4
	ADD R9, R9, #1
	CMP R9, R11
	BLT FIRST_FOR_LOOP

 	LDMFD SP!, {R2-R9, PC}^
	END